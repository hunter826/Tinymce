<!DOCTYPE html>
<html>
<head>
<title>TinyMCE Bold Tests</title>
<script src="jsunit-library/app/jsUnitCore.js"></script>
<script src="../jscripts/tiny_mce/tiny_mce.js"></script>
<script>
var editor;
function testNothing() {
	var display = document.getElementById("content").style.display;
	assertEquals("none", display);
	editor.formatter.register('format', {inline: 'b'});
	editor.getBody().innerHTML = '<p>1234</p>';
	var rng = editor.dom.createRng();
	rng.setStart(editor.dom.select('p')[0].firstChild, 0);
	rng.setEnd(editor.dom.select('p')[0].firstChild, 4);
	editor.selection.setRng(rng);
	editor.formatter.apply('format');
	assertEquals(getContent(), '<p><b>1234</b></p>');
}

function setUpPage() {
	tinyMCE.init({
		mode: 'exact',
		elements: 'content',
		add_unload_trigger: false,
		fix_list_elements: 0,
		fix_table_elements: 0,
		forced_root_block: '',
		convert_fonts_to_spans: false,
		entities: 'raw',
		apply_source_formatting: 0,
		valid_elements : '@[id|class|style|title|dir<ltr?rtl|lang|xml::lang|onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup],a[rel|rev|charset|hreflang|tabindex|accesskey|type|name|href|target|title|class|onfocus|onblur],strong,b,em,i,strike,u,#p,-ol[type|compact],-ul[type|compact],-li,br,img[longdesc|usemap|src|border|alt=|title|hspace|vspace|width|height|align],-sub,-sup,-blockquote[cite],-table[border|cellspacing|cellpadding|width|frame|rules|height|align|summary|bgcolor|background|bordercolor],-tr[rowspan|width|height|align|valign|bgcolor|background|bordercolor],tbody,thead,tfoot,#td[colspan|rowspan|width|height|align|valign|bgcolor|background|bordercolor|scope],#th[colspan|rowspan|width|height|align|valign|scope],caption,-div,-span,-code,-pre,address,-h1,-h2,-h3,-h4,-h5,-h6,hr[size|noshade],-font[face|size|color],dd,dl,dt,cite,abbr,acronym,del[datetime|cite],ins[datetime|cite],object[classid|width|height|codebase|*],param[name|value],embed[type|width|height|src|*],script[src|type],map[name],area[shape|coords|href|alt|target],bdo,button,col[align|char|charoff|span|valign|width],colgroup[align|char|charoff|span|valign|width],dfn,fieldset,form[action|accept|accept-charset|enctype|method],input[accept|alt|checked|disabled|maxlength|name|readonly|size|src|type|value|tabindex|accesskey],kbd,label[for],legend,noscript,optgroup[label|disabled],option[disabled|label|selected|value],q[cite],samp,select[disabled|multiple|name|size],small,textarea[cols|rows|disabled|name|readonly],tt,var,big',
		valid_styles : {
			'*' : 'color,font-size,font-family,background-color,font-weight,font-style,text-decoration,float,margin,margin-top,margin-right,margin-bottom,margin-left,display'
		},
		init_instance_callback: function(ed) {
			editor = ed;
			ed.onNodeChange.addToTop(function() {
				return false;
			});
			window.setUpPageStatus = "complete";
		}
	});
}

function getContent() {
	return editor.getContent().toLowerCase().replace(/[\r\n]+/g, '');
}
</script>
</head>
<body>
<textarea id="content">This is my content.</textarea>
</body>
</html>
