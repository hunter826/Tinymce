<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Removing content tests</title>
<link rel="stylesheet" href="qunit/qunit.css" type="text/css" media="screen">
<script type="text/javascript" src="qunit/qunit.js"></script>
<script type="text/javascript" src="qunit/runner.js"></script>
<script type="text/javascript" src="js/utils.js"></script>
<script type="text/javascript" src="../jscripts/tiny_mce/tiny_mce_dev.js"></script>
<script type="text/javascript" src="js/autolink/lists-dsl.js"></script>
<script type="text/javascript" src="js/autolink/actions.js"></script>
<script type="text/javascript" src="js/autolink/states.js"></script>
<script><!--
var editor;

QUnit.config.autostart = false;
module("Automatic Links", {
    autostart: false,
    setup: function() {
        window.queue = new dsl.Queue();
    }
});

asyncTest('Non-Empty Paragraph - Typing a HTTP URL', function() {
    TypingHTTPURL.inA(NonEmptyParagraph).gives('<p>Test <a href="http://www.ephox.com">http://www.ephox.com</a>  ');
    queue.done();
});

asyncTest('Non-Empty Paragraph - Typing a HTTPS URL', function() {
    TypingHTTPSURL.inA(NonEmptyParagraph).gives('<p>Test <a href="https://www.ephox.com">https://www.ephox.com</a>  ');
    queue.done();
});

asyncTest('Non-Empty Paragraph - Typing a SSH URL', function() {
    TypingSSHURL.inA(NonEmptyParagraph).gives('<p>Test <a href="ssh://www.ephox.com">ssh://www.ephox.com</a>  ');
    queue.done();
});

asyncTest('Non-Empty Paragraph - Typing a FTP URL', function() {
    TypingFTPURL.inA(NonEmptyParagraph).gives('<p>Test <a href="ftp://www.ephox.com">ftp://www.ephox.com</a>  ');
    queue.done();
});

asyncTest('Non-Empty Paragraph - Typing a WWW URL', function() {
    // TODO: A default scheme should have been added to the URL
    TypingWWWURL.inA(NonEmptyParagraph).gives('<p>Test <a href="www.ephox.com">www.ephox.com</a>  ');
    queue.done();
});


tinyMCE.init({
	mode : "exact",
	elements : "elm1",
	theme : "advanced",
	add_unload_trigger : false,
	theme_advanced_styles : 'test1=test1;test2=test2',
	valid_styles : {
		'*' : 'text-align,padding-left,color,font-size,font-family,background-color,font-weight,font-style,text-decoration,float,margin,margin-top,margin-right,margin-bottom,margin-left,display'
	},
	apply_source_formatting : 0,
	init_instance_callback : function(ed) {
		editor = ed;

		ed.onNodeChange.addToTop(function() {
			return false;
		});
	}
});
--></script>
</head>
<body>
	<h1 id="qunit-header">Removing content tests</h1>
	<h2 id="qunit-banner"></h2>
	<div id="qunit-testrunner-toolbar"></div>
	<h2 id="qunit-userAgent"></h2>
	<ol id="qunit-tests"></ol>
	<div id="content">
		<textarea id="elm1" name="elm1"></textarea>
	</div>
	<script type="text/javascript" src="jsrobot/robot.js"></script>
	<script>
		initWhenTinyAndRobotAreReady();
	</script>
</body>
</html>
